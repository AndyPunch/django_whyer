{% load ratings %}
{% if user.is_authenticated %}
  {% rating_by_user user on question_detail.rating as vote %}
  {% if vote > 0 and vote == "up" %}
    <a style="outline: none" {% if user == question_detail.author %} id="vote_question_forbid_{{ question_detail.id }}" {% elif user != question_detail.author %} class="defaultClass" {% endif %} href=""><span class="glyphicon glyphicon-thumbs-up icon-style vote_up"></span></a><span id="score_question_{{ question_detail.id }}" style="font-size: 30px"> <b> {{ question_detail.rating.score }} </b> </span><a style="outline: none" {% if user == question_detail.author %} id="vote_question_forbid_{{ question_detail.id }}" {% elif user != question_detail.author %} class="vote_question_link_clear_down" {% endif %} href=""><span class="glyphicon glyphicon-thumbs-down icon-style"></span></a>
  {% elif vote > 0 and vote == "down" %}
    <a style="outline: none" {% if user ==  question_detail.author %} id="vote_question_forbid_{{ question_detail.id }}" {% elif user !=  question_detail.author %} class="vote_question_link_clear_up" {% endif %} href=""><span class="glyphicon glyphicon-thumbs-up icon-style"></span></a><span id="score_question_{{ question_detail.id }}" style="font-size: 30px"> <b> {{ question_detail.rating.score }} </b> </span><a style="outline: none"  {% if user ==  question_detail.author %} id="vote_question_forbid_{{ question_detail.id }}" {% elif user != question_detail.author %} class="defaultClass" {% endif %} href=""><span class="glyphicon glyphicon-thumbs-down icon-style vote_down"></span></a>
  {% else %}
    <a style="outline: none" {% if user == question_detail.author %} id="vote_question_forbid_{{ question_detail.id }}" {% elif user != question_detail.author %} class="vote_question_link_up" {% endif %} href=""><span class="glyphicon glyphicon-thumbs-up icon-style"></span></a><span id="score_question_{{ question_detail.id }}" style="font-size: 30px"> <b> {{ question_detail.rating.score }} </b> </span><a style="outline: none" {% if user == question_detail.author %} id="vote_question_forbid_{{ question_detail.id }}" {% elif user != question_detail.author %} class="vote_question_link_down" {% endif %} href=""><span class="glyphicon glyphicon-thumbs-down icon-style"></span></a>
  {% endif %}
{% elif not user.is_authenticated %}
  <a style="outline: none"  href="{% url 'question_rate' object_id=question_detail.pk score='up' %}"><span class="glyphicon glyphicon-thumbs-up icon-style"></span></a><span id="score_question_{{ question_detail.id }}" style="font-size: 30px"> <b> {{ question_detail.rating.score }} </b> </span><a style="outline: none"  href="{% url 'question_rate' object_id=question_detail.pk score='down' %}"><span class="glyphicon glyphicon-thumbs-down icon-style"></span></a>
{% endif %}
